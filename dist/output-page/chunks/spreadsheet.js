(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{279:function(e,s,t){"use strict";t(73),t(131);s.a={methods:{makeFullUrl:function(e){var s=new Url(this.general.urlOrigin+e);return s.query.ipRedirectOverride=!0,s.query.overrideBaseCountry=!0,s.toString()}}}},291:function(e,s,t){},451:function(e,s,t){var r={"./af":299,"./af.js":299,"./ar":300,"./ar-dz":301,"./ar-dz.js":301,"./ar-kw":302,"./ar-kw.js":302,"./ar-ly":303,"./ar-ly.js":303,"./ar-ma":304,"./ar-ma.js":304,"./ar-sa":305,"./ar-sa.js":305,"./ar-tn":306,"./ar-tn.js":306,"./ar.js":300,"./az":307,"./az.js":307,"./be":308,"./be.js":308,"./bg":309,"./bg.js":309,"./bm":310,"./bm.js":310,"./bn":311,"./bn.js":311,"./bo":312,"./bo.js":312,"./br":313,"./br.js":313,"./bs":314,"./bs.js":314,"./ca":315,"./ca.js":315,"./cs":316,"./cs.js":316,"./cv":317,"./cv.js":317,"./cy":318,"./cy.js":318,"./da":319,"./da.js":319,"./de":320,"./de-at":321,"./de-at.js":321,"./de-ch":322,"./de-ch.js":322,"./de.js":320,"./dv":323,"./dv.js":323,"./el":324,"./el.js":324,"./en-SG":325,"./en-SG.js":325,"./en-au":326,"./en-au.js":326,"./en-ca":327,"./en-ca.js":327,"./en-gb":328,"./en-gb.js":328,"./en-ie":329,"./en-ie.js":329,"./en-il":330,"./en-il.js":330,"./en-nz":331,"./en-nz.js":331,"./eo":332,"./eo.js":332,"./es":333,"./es-do":334,"./es-do.js":334,"./es-us":335,"./es-us.js":335,"./es.js":333,"./et":336,"./et.js":336,"./eu":337,"./eu.js":337,"./fa":338,"./fa.js":338,"./fi":339,"./fi.js":339,"./fo":340,"./fo.js":340,"./fr":341,"./fr-ca":342,"./fr-ca.js":342,"./fr-ch":343,"./fr-ch.js":343,"./fr.js":341,"./fy":344,"./fy.js":344,"./ga":345,"./ga.js":345,"./gd":346,"./gd.js":346,"./gl":347,"./gl.js":347,"./gom-latn":348,"./gom-latn.js":348,"./gu":349,"./gu.js":349,"./he":350,"./he.js":350,"./hi":351,"./hi.js":351,"./hr":352,"./hr.js":352,"./hu":353,"./hu.js":353,"./hy-am":354,"./hy-am.js":354,"./id":355,"./id.js":355,"./is":356,"./is.js":356,"./it":357,"./it-ch":358,"./it-ch.js":358,"./it.js":357,"./ja":359,"./ja.js":359,"./jv":360,"./jv.js":360,"./ka":361,"./ka.js":361,"./kk":362,"./kk.js":362,"./km":363,"./km.js":363,"./kn":364,"./kn.js":364,"./ko":365,"./ko.js":365,"./ku":366,"./ku.js":366,"./ky":367,"./ky.js":367,"./lb":368,"./lb.js":368,"./lo":369,"./lo.js":369,"./lt":370,"./lt.js":370,"./lv":371,"./lv.js":371,"./me":372,"./me.js":372,"./mi":373,"./mi.js":373,"./mk":374,"./mk.js":374,"./ml":375,"./ml.js":375,"./mn":376,"./mn.js":376,"./mr":377,"./mr.js":377,"./ms":378,"./ms-my":379,"./ms-my.js":379,"./ms.js":378,"./mt":380,"./mt.js":380,"./my":381,"./my.js":381,"./nb":382,"./nb.js":382,"./ne":383,"./ne.js":383,"./nl":384,"./nl-be":385,"./nl-be.js":385,"./nl.js":384,"./nn":386,"./nn.js":386,"./pa-in":387,"./pa-in.js":387,"./pl":388,"./pl.js":388,"./pt":389,"./pt-br":390,"./pt-br.js":390,"./pt.js":389,"./ro":391,"./ro.js":391,"./ru":392,"./ru.js":392,"./sd":393,"./sd.js":393,"./se":394,"./se.js":394,"./si":395,"./si.js":395,"./sk":396,"./sk.js":396,"./sl":397,"./sl.js":397,"./sq":398,"./sq.js":398,"./sr":399,"./sr-cyrl":400,"./sr-cyrl.js":400,"./sr.js":399,"./ss":401,"./ss.js":401,"./sv":402,"./sv.js":402,"./sw":403,"./sw.js":403,"./ta":404,"./ta.js":404,"./te":405,"./te.js":405,"./tet":406,"./tet.js":406,"./tg":407,"./tg.js":407,"./th":408,"./th.js":408,"./tl-ph":409,"./tl-ph.js":409,"./tlh":410,"./tlh.js":410,"./tr":411,"./tr.js":411,"./tzl":412,"./tzl.js":412,"./tzm":413,"./tzm-latn":414,"./tzm-latn.js":414,"./tzm.js":413,"./ug-cn":415,"./ug-cn.js":415,"./uk":416,"./uk.js":416,"./ur":417,"./ur.js":417,"./uz":418,"./uz-latn":419,"./uz-latn.js":419,"./uz.js":418,"./vi":420,"./vi.js":420,"./x-pseudo":421,"./x-pseudo.js":421,"./yo":422,"./yo.js":422,"./zh-cn":423,"./zh-cn.js":423,"./zh-hk":424,"./zh-hk.js":424,"./zh-tw":425,"./zh-tw.js":425};function a(e){var s=n(e);return t(s)}function n(e){if(!t.o(r,e)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=n,e.exports=a,a.id=451},473:function(e,s,t){"use strict";var r=t(291);t.n(r).a},479:function(e,s,t){"use strict";t.r(s);t(157),t(97),t(159),t(50),t(163),t(73),t(161),t(93);var r=t(476),a={name:"aleSpreadsheet",props:["library","general"],mixins:[t(279).a],components:{HotTable:r.a},created:function(){this.general.loadingSpreadsheet=!0},mounted:function(){var e=this;e.$nextTick((function(){setTimeout((function(){e.prepareKeys(),e.prepareColheaders(),e.options.data=e.prepareColumns2(),e.prepareColumns(),console.log(e.columns),e.options.afterInit=e.afterInit(),Eventbus.$on("csvExportStarted",e.exportSpreadsheet),e.loading=!1,e.$nextTick((function(){e.hot=e.$refs.hotTableComponent.hotInstance,e.plugins.resize=e.hot.getPlugin("manualColumnResize"),e.plugins.resize.setManualSize(30,25),e.hot.render()}))}),10)}))},beforeDestroy:function(){this.hot=null,this.plugins.resize=null,Eventbus.$off("csvExportStarted",this.exportSpreadsheet)},data:function(){return{loading:!0,hot:null,plugins:{export:null},keys:null,colHeaders:null,columns:null,options:{licenseKey:"non-commercial-and-evaluation",data:null,readOnly:!1,filters:!0,dropdownMenu:["filter_by_condition","filter_action_bar"],columnSorting:!0,allowInsertRow:!1,allowInsertColumn:!1,allowRemoveRow:!1,allowRemoveColumn:!1,manualRowResize:!0,manualColumnResize:!0,rowHeaders:!0,colHeader:!0,currentRowClassName:"currentRow",rowHeights:20,rowHeight:20,defaultRowHeight:20,afterInit:null,afterScrollVertically:null}}},methods:{afterInit:function(){var e=this;return function(){e.general.loadingSpreadsheet=!1}},exportSpreadsheet:function(){this.plugins.export.downloadFile("csv",{filename:"My Audible library",columnHeaders:!0})},prepareKeys:function(){var e=_.union(_.flatten(_.map(this.library.books,(function(e){return _.keys(e)})))),s=["sample","titleShort","title","blurb","authors","narrators","categories","series","summary","length","progress","added","releaseDate","publishers","myRating","rating","ratings"],t=_.remove(e,(function(e){return!_.includes(s,e)}));e=s.concat(t),s=null,t=null;var r=["url","coverUrl","moreLikeThis","peopleAlsoBought","summary","asin","title","blurb"];e=_.remove(e,(function(e){return!_.includes(r,e)})),this.keys=e},prepareColheaders:function(){this.colHeaders=_.map(this.keys,(function(e){var s=e;return"sample"===e&&(s=""),_.startCase(s)}))},prepareColumns2:function(){var e=this,s=[];return _.map(e.library.books,(function(t){var r=[];_.each(e.keys,(function(s,a){switch(s){case"authors":case"narrators":case"categories":case"series":case"publishers":r.push(e.stringifyArray({array:t[s],key:"name",delimiter:"categories"===s?" > ":", "}));break;case"progress":r.push(0==t[s]?"Not started":t[s]);break;default:r.push(t[s])}})),s.push(r)})),s},prepareColumns:function(){var e=this;e.columns=_.map(e.keys,(function(s){var t={};switch(s){case"blurb":break;case"authors":case"narrators":case"categories":case"series":case"publishers":case"progress":break;case"sample":t.renderer=e.renderers().sample,t.width="28px"}return t.renderer||(t.renderer=e.renderers().general),t.type||(t.type="text"),t.className||(t.className="htLeft htTop"),t}))},stringifyArray:function(e){if(e.array)return e.key||(e.key="name"),e.delimiter||(e.delimiter=", "),_.map(e.array,e.key).join(e.delimiter)},getTableData(e,s,t){var r=e.toPhysicalRow(s),a=e.toPhysicalColumn(t),n=e.getSourceDataAtRow(r,a),l=_.camelCase(e.getColHeader(a));return{row:n,cell:n[l],key:l}},empty(e){for(var s;s=e.lastChild;)e.removeChild(s)},cellWrapper:function(){var e=document.createElement("div");return e.classList.add("td-inner-wrap"),e},renderers:function(){var e=this;return{linkifyArray:function(s,t,r,a,n,l,i){if(l){e.empty(t);var o=e.cellWrapper(),u=e.getTableData(s,r,a);console.log(u),_.each(u.cell,(function(s,t){if(t>0){var r=document.createElement("span");r.textContent="categories"===u.key?" > ":", ",o.appendChild(r)}var a=document.createElement("a");a.setAttribute("target","_blank"),a.setAttribute("href",e.makeFullUrl(s.url)),a.textContent=s.name,o.appendChild(a),console.log(o)})),t.appendChild(o)}},general:function(s,t,r,a,n,l,i){e.empty(t);var o=e.cellWrapper();l&&(o.textContent=l),t.appendChild(o)},title:function(s,t,r,a,n,l,i){e.empty(t);var o=e.getTableData(s,r,a),u=e.cellWrapper();if(l){var c=o.row.url;c?u.append($("<a>",{target:"_blank",href:e.makeFullUrl(c),text:l})):u.append(l)}$(t).append(u)},sample:function(s,t,r,a,n,l,i){e.empty(t);var o=e.cellWrapper();if(l){var u=document.createElement("a");u.setAttribute("target","_blank"),u.setAttribute("href",l),u.classList.add("spreadsheet-play-sample");var c=document.createElement("img");c.setAttribute("src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OTYgNTk2Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6IzIyMjt9LmNscy0ye2ZpbGw6I2ZmZjt9PC9zdHlsZT48L2RlZnM+PGc+PGc+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMjk4LDU3MUEyNzMsMjczLDAsMCwxLDEwNSwxMDVhMjczLDI3MywwLDAsMSwzODYuMSwzODYuMUEyNzEuMTgsMjcxLjE4LDAsMCwxLDI5OCw1NzFaTTIyNyw0MDAuMzIsNDAwLjA5LDMwMSwyMjcsMTk1Ljc1WiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTI5OCw1MGMxMzcsMCwyNDgsMTExLDI0OCwyNDhTNDM1LDU0NiwyOTgsNTQ2LDUwLDQzNSw1MCwyOTgsMTYxLDUwLDI5OCw1ME0yMjYuMSw0MjZhMjMuNzgsMjMuNzgsMCwwLDAsMTEuNi0zbDE3Ni0xMDFjMTYuNC05LjEsMTYuNC0zMi44LDAtNDJsLTE3Ni0xMDdhMjMuOCwyMy44LDAsMCwwLTExLjYtM0EyNCwyNCwwLDAsMCwyMDIsMTk0VjQwMmEyNCwyNCwwLDAsMCwyNC4xLDI0TTI5OCwwQTI5OC4wNywyOTguMDcsMCwwLDAsMTgyLDU3Mi41NywyOTguMDgsMjk4LjA4LDAsMCwwLDQxNCwyMy40MywyOTYuMjYsMjk2LjI2LDAsMCwwLDI5OCwwWiIvPjwvZz48L2c+PC9zdmc+"),u.appendChild(c),o.appendChild(u),u.addEventListener("click",(function(s){s.preventDefault();var t=this.getAttribute("href"),r=_.find(e.library.books,["sample",t]);Eventbus.$emit("playSample",{from:"aleSpredsheet",route:e.$route,book:r})})),t.appendChild(o)}},cover:function(e,s,t,r,a,n,l){e.dom.empty(s);ale_booksArray[t];(s=$(s)).addClass("htCenter htMiddle td-cover-image");$("<a>",{target:"_blank",href:n,text:"cover","data-tippy-content":'<img src="'+n+'" alt="">',css:{display:"block",fontSize:"1em"}}).appendTo(s)}}}}},n=(t(473),t(8)),l=Object(n.a)(a,(function(){var e=this.$createElement,s=this._self._c||e;return s("div",{attrs:{id:"ale-spreadsheet"}},[this.loading?s("font-awesome-icon",{staticClass:"loading-icon",attrs:{icon:"spinner",spin:""}}):s("hot-table",{ref:"hotTableComponent",attrs:{settings:this.options,colHeaders:this.colHeaders,columns:this.columns}})],1)}),[],!1,null,null,null);s.default=l.exports}}]);